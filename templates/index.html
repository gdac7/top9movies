{% extends "base.html" %}

{% block title %} TOP9 {% endblock %}

{% block content %}
<body>

<!-- header -->
<div class="introduction">
    <h1>TOP9</h1>
    <hr>
    <p>These are my top 9 movies!</p>
</div>

<!-- movies container -->
<div class="container text-center">
    
    <div class="row">
            {% for movie in all_movies %}
            {% if movie %}
            <div class="col-lg-4 col-md-6">
                <div class="card my-5" style="width: 20rem;">
                    <img src="{{ movie.img }}" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">{{ movie.title }}</h5>
                        <h5 class="card-title rating">{{ movie.rating }}/5 &#11088;</h5>
                        <p class="card-text">{{ movie.review }}</p>
                        <a href="{{ url_for('update_movie', movie_id=movie.id) }}" class="btn btn-secondary">update</a>
                        <a href="{{ url_for('delete_movie', movie_id=movie.id) }}" class="btn btn-danger">remove</a>
                        <a class="btn btn-info" href="{{ url_for('get_movie_details', tmdb_id=movie.tmdb_id) }}">details</a>
                    </div>
                </div>
            </div>
            {% else %}
            <div class="col-lg-4 col-md-6">
                <div class="card my-5" style="width: 20rem;">
                    <h4></h4>
                    <img src="" class="card-img-top" alt="">
                    <div class="card-body">
                        <h1 class="ranking-index">{{ loop.index }}</h1>
                        <a href="{{ url_for('search', ranking=loop.index) }}" class="btn btn-primary">add</a>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}
    </div>
    
</div>

</body>
{% endblock %}